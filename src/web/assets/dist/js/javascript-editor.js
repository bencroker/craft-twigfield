/*!
 * @project        twigfield
 * @name           javascript-editor.js
 * @author         Andrew Welch
 * @build          Sun Jun 12 2022 03:14:21 GMT+0000 (Coordinated Universal Time)
 * @copyright      Copyright (c) 2022 Â©2022 nystudio107.com
 *
 */
"use strict";(self.webpackChunkBuildchain=self.webpackChunkBuildchain||[]).push([[339],{5092:function(e,t,n){n(7941),n(2526),n(7327),n(1539),n(5003),n(4747),n(9337);var o=n(4942),i=n(713),r=n(8152),a=n(1002);n(4916),n(3123),n(5306),n(6699),n(2023),n(6755),n(9720),n(8309);function l(e){return e[e.length-1]}function u(e,t){monaco.languages.registerCompletionItemProvider("twig",{triggerCharacters:[".","("],provideCompletionItems:function(n,o,i){var r=[],u=e,s=n.getValueInRange({startLineNumber:o.lineNumber,startColumn:0,endLineNumber:o.lineNumber,endColumn:o.column}),c=!0;if(0!==s.indexOf("{")&&(c=!1),-1!==s.substring(s.lastIndexOf("{")).indexOf("}")&&(c=!1),!c&&"TwigExpressionAutocomplete"===t)return null;if(c&&"TwigExpressionAutocomplete"===t){var d=s.replace("\t","").split(" "),m=d[d.length-1];if(m.includes("(")&&(m=l(m.split("("))),m.includes(">")&&(m=l(m.split(">"))),"."===m.charAt(m.length-1)){var f=m.substring(0,m.length-1).split(".");u=e[f[0]];for(var g=1;g<f.length;g++){if(!u.hasOwnProperty(f[g]))return r;u=u[f[g]]}}}if(void 0!==u)for(var p in u)if(u.hasOwnProperty(p)&&!p.startsWith("__")){var v=u[p].__completions;if(void 0!==v){if(delete v.range,"documentation"in v&&"object"!==(0,a.Z)(v.documentation)){var h=v.documentation;v.documentation={value:h,isTrusted:!0,supportsHtml:!0}}r.push(v)}}return{suggestions:r}}})}function s(e){monaco.languages.registerHoverProvider("twig",{provideHover:function(t,n){var o={},i=t.getValueInRange({startLineNumber:n.lineNumber,startColumn:0,endLineNumber:n.lineNumber,endColumn:t.getLineMaxColumn(n.lineNumber)}),r=t.getWordAtPosition(n);if(null!==r){for(var l=i.substring(0,r.endColumn-1),u=!1,s=e,c=l.length;c>=0;c--)if(" "===l[c]){l=i.substring(c+1,l.length);break}if(l.includes(".")&&(u=!0),u)for(var d=l.substring(0,l.length).split("."),m=0;m<d.length-1;m++){if(!s.hasOwnProperty(d[m]))return o;s=s[d[m]]}if(void 0!==s&&void 0!==s[r.word]){var f=s[r.word].__completions;if(void 0!==f){var g=f.documentation;return"object"===(0,a.Z)(f.documentation)&&(g=f.documentation.value),{range:new monaco.Range(n.lineNumber,r.startColumn,n.lineNumber,r.endColum),contents:[{value:"**"+f.detail+"**"},{value:g}]}}}return o}}})}function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}""===n.p&&(n.p=window.twigfieldBaseAssetsUrl);var m={language:"twig",theme:"vs",automaticLayout:!0,lineNumbers:"off",glyphMargin:!1,folding:!1,lineDecorationsWidth:0,lineNumbersMinChars:0,renderLineHighlight:!1,wordWrap:!0,scrollBeyondLastLine:!1,scrollbar:{vertical:"hidden",horizontal:"auto"},fontSize:14,fontFamily:'SFMono-Regular, Consolas, "Liberation Mono", Menlo, Courier, monospace',minimap:{enabled:!1}};function f(e,t,n,o,a){var l=document.getElementById(e),c=document.createElement("div");c.id=e+"-monaco-editor",c.classList.add("p-2","box-content","monaco-editor-twigfield-icon","w-full","h-full"),""!==n&&c.classList.add(n),c.tabIndex=0,l.parentNode.insertBefore(c,l),l.style.display="none";var f=d(d(d({},m),JSON.parse(o)),{value:l.value}),g=i.editor.create(c,f);g.onDidChangeModelContent((function(e){l.value=g.getValue()})),function(e,t){var n="";null!=e&&(n="?fieldType="+e);var o=new XMLHttpRequest;o.open("GET",t+n,!0),o.onload=function(){if(o.status>=200&&o.status<400){var e=JSON.parse(o.responseText);void 0===window.monacoAutocompleteItems&&(window.monacoAutocompleteItems={});for(var t=0,n=Object.entries(e);t<n.length;t++){var i=(0,r.Z)(n[t],2),a=(i[0],i[1]);a.name in window.monacoAutocompleteItems||(window.monacoAutocompleteItems[a.name]=a.name,u(a.__completions,a.type),s(a.__completions))}}else console.log("Autocomplete endpoint failed with status "+o.status)},o.send()}(t,a);var p=function(){var e=g.getLayoutInfo().width,t=Math.min(1e3,g.getContentHeight());c.style.height="".concat(t,"px");try{!0,g.layout({width:e,height:t})}finally{!1}};g.onDidContentSizeChange(p),p()}window.makeMonacoEditor=f},9086:function(){}},function(e){var t=function(t){return e(e.s=t)};e.O(0,[216,532],(function(){return t(5092),t(9086),t(1828)}));e.O()}]);
//# sourceMappingURL=javascript-editor.js.map